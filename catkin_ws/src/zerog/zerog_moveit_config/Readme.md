# The zerog_moveit_config package

# Description
This package has been auto-generated by the `Moveit Setup Assistant` but can be edited outside of the assistant to incorporate the rails. This package contains the motion-planning pipeline for the ZeroG. It consists of three folders as described below:

|**Folder** |**Description**|
|:------|:------|
|config| This folder contains the yaml files generated by the Setup Assistant, two of which have been modified to include the rails. They are `ros_controllers.yaml` and `ros_gazebo_controllers.yaml`. It also contains `.srdf files required to load when running the required Moveit launch files|
|Launch| This folder contains the necessary launch files required to run motion planning with the ZeroG robots and rails|
|rviz|This folder simply holds the saved Rviz configurations|
|.setup_assistant|this is auto-generated by the `Moveit Setup Assistant` and should not be disturbed|


# How to use the package:

## Using the Gazebo Model with Moveit for Motion Planning:

*Note: Before proceeding with this section, make sure that `rqt_joint_trajectory_controller` node is not running.*

1. Assuming you have already launched the `zerog_gazebo_bringup.launch` file. Open another terminal and type the following:
```
$ roslaunch zerog_moveit_config full_zerog_gazebo_moveit_planning_execution.launch
```
2. An Rviz window will open. Click file --> Open Config.
3. Navigate to `~/home/(your_path_to_catkin_ws)/src/zerog/zerog_moveit_config/rviz` and select `zerog_gazebo_moveit_rviz.rviz`. Click on "Open".
4. A saved rviz config will be loaded. It contains the Motion planning panel and TF displays.
5. In the Motion Planning Panel, click on the "Planning Tab"
6. Choose a "Planning Group" for example "ceiling_arm".
7. Set the "Goal State" to "random valid". A new goal state will be set for the arm to reach to.
8. Click on the "Plan" button. You should see a "ghost" ceiling arm move to the new goal state.
9. Now, click on the "Execute" button. This time you will the real model move to the goal, both in rviz and in gazebo.
10. Now choose a different planning group (Step 6) and repeat steps 7 to 10. Other robots and rails should move in a similar manner.


## See also:
- zerog_moveit_servo